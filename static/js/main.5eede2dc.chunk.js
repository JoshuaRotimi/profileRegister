(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{192:function(e,t,a){e.exports=a(467)},211:function(e,t){},213:function(e,t){},308:function(e,t){},378:function(e,t){},433:function(e,t){},467:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(190),s=a.n(i),l=(a(197),a(23)),o=a.n(l),c=a(56),u=a(40),m=a(42),p=a(41),d=a(33),f=a(43),y=a(108),h=a.n(y),b=a(191),w=a.n(b),v=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},r.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"http://www.dappuniversity.com/bootcamp",target:"_blank",rel:"noopener noreferrer"},"Profile Register"),r.a.createElement("ul",{className:"navbar-nav px-3"},r.a.createElement("li",{className:"nav-item text-nowrap d-none d-sm-none d-sm-block"},r.a.createElement("small",{className:"text-secondary"},r.a.createElement("small",{id:"account"},this.props.account)),this.props.account?r.a.createElement("img",{className:"ml-2",width:"30",height:"30",alt:"barcode",src:"data:image/png;base64,".concat(new w.a(this.props.account,30).toString())}):r.a.createElement("span",null))))}}]),t}(n.Component),g=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("main",{role:"main",className:"col-lg-12 ml-auto mr-auto",style:{maxWidth:"500px"}},r.a.createElement("div",{className:"content mr-auto ml-auto"},r.a.createElement("p",null,"\xa0"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=e.firstName.value,n=e.lastName.value;a&&n?e.props.createProfile(a,n):alert("Please enter a valid name.")},action:""},r.a.createElement("div",{className:"form-group mr-sm-2"},r.a.createElement("label",{className:"mr-2",htmlFor:"First Name"},"First Name: "),r.a.createElement("input",{type:"text",id:"firstName",name:"First Name",ref:function(t){e.firstName=t},placeholder:"First Name...",className:"form-control"})),r.a.createElement("div",{className:"form-group mr-sm-2"},r.a.createElement("label",{className:"mr-2",htmlFor:"Last Name"},"Last Name: "),r.a.createElement("input",{type:"text",name:"Last Name",id:"lastName",ref:function(t){e.lastName=t},placeholder:"Last Name...",className:"form-control"})),r.a.createElement("button",{className:"btn btn-primary"},"Create Profile")),r.a.createElement("p",null,"\xa0")))))}}]),t}(n.Component),E=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"lastname",type:"string"},{indexed:!1,internalType:"string",name:"firstname",type:"string"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"userId",type:"uint256"}],name:"NewProfile",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"ProfileIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"Profiles",outputs:[{internalType:"string",name:"lastname",type:"string"},{internalType:"string",name:"firstname",type:"string"},{internalType:"uint256",name:"userId",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"REGISTRATION_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"lastname",type:"string"},{internalType:"string",name:"firstname",type:"string"}],name:"createProfile",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getProfile",outputs:[{components:[{internalType:"string",name:"lastname",type:"string"},{internalType:"string",name:"firstname",type:"string"},{internalType:"uint256",name:"userId",type:"uint256"}],internalType:"struct Register.Profile",name:"",type:"tuple"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"profileId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).createProfile=function(e,t){a.setState({loading:!0}),a.state.profiles.methods.createProfile(e,t).send({from:a.state.account,value:1e16}).then(function(e){console.log(e,"Success"),alert("Profile was added successfully")}).catch(function(e){e&&alert("Error. ".concat(e.message))}),a.setState({loading:!1})},a.getProfile=function(){var e=Object(c.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,a.state.profiles.methods.getProfile(t).call();case 3:""===(n=e.sent)[0]?alert("Profile does not exist"):a.setState({profileDetails:n}),a.setState({loading:!1});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={account:"",profileDetails:null,loading:!0,profiles:null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=Object(c.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWeb3();case 2:return e.next=4,this.loadBlockChainData();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadWeb3",value:function(){var e=Object(c.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=6;break}return window.web3=new h.a(window.ethereum),e.next=4,window.ethereum.enable();case 4:e.next=7;break;case 6:window.web3?window.web3=new h.a(window.web3.currentProvider):window.alert("No ethereum broswer detected. You can check out MetaMask!");case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"loadBlockChainData",value:function(){var e=Object(c.a)(o.a.mark(function e(){var t,a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.web3,e.next=3,t.eth.getAccounts();case 3:return a=e.sent,this.setState({account:a[0]}),e.next=7,t.eth.net.getId();case 7:4===e.sent?(n=new t.eth.Contract(E,"0x006F599c0920A5b369dE668E0810e53a9F8b216D"),this.setState({profiles:n}),this.setState({loading:!1})):window.alert("Register Contract not deployed to detected network.");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(v,{account:this.state.account}),r.a.createElement("div",{className:"col-lg-12 ml-auto mr-auto",style:{maxWidth:"500px"}},r.a.createElement(g,{createProfile:this.createProfile}),r.a.createElement("div",{className:"form-group mr-sm-2 my-5"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.getProfile(e.state.account)}},"Get Profile Details")),this.state.loading&&r.a.createElement("div",{id:"loader",className:"text-center mt-5"},r.a.createElement("p",null,"Loading...")),this.state.profileDetails&&r.a.createElement("div",null,r.a.createElement("h3",null,"Profile Details"),r.a.createElement("h3",null,"First Name: ",this.state.profileDetails[0]),r.a.createElement("h3",null,"Last Name: ",this.state.profileDetails[1]),r.a.createElement("h3",null,"ID: ",this.state.profileDetails[2].toString()))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[192,2,1]]]);
//# sourceMappingURL=main.5eede2dc.chunk.js.map